<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Execute SQL Query"><title>Execute SQL Query — db_sql_exec_query • brickster</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Execute SQL Query — db_sql_exec_query"><meta property="og:description" content="Execute SQL Query"><meta property="og:image" content="https://zacdav-db.github.io/brickster/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">brickster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/cluster-management.html">Cluster Management</a>
    <a class="dropdown-item" href="../articles/managing-jobs.html">Job Management</a>
    <a class="dropdown-item" href="../articles/rmarkdown-databricks-notebook.html">Using RMarkdown as a Databricks Notebook</a>
    <a class="dropdown-item" href="../articles/setup-auth.html">Connect to a Databricks Workspace</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/zacdav-db/brickster/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Execute SQL Query</h1>
      <small class="dont-index">Source: <a href="https://github.com/zacdav-db/brickster/blob/HEAD/R/sql-query-execution.R" class="external-link"><code>R/sql-query-execution.R</code></a></small>
      <div class="d-none name"><code>db_sql_exec_query.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Execute SQL Query</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">db_sql_exec_query</span><span class="op">(</span></span>
<span>  <span class="va">statement</span>,</span>
<span>  <span class="va">warehouse_id</span>,</span>
<span>  catalog <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  schema <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  row_limit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  byte_limit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  disposition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"INLINE"</span>, <span class="st">"EXTERNAL_LINKS"</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"JSON_ARRAY"</span>, <span class="st">"ARROW_STREAM"</span>, <span class="st">"CSV"</span><span class="op">)</span>,</span>
<span>  wait_timeout <span class="op">=</span> <span class="st">"10s"</span>,</span>
<span>  on_wait_timeout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CONTINUE"</span>, <span class="st">"CANCEL"</span><span class="op">)</span>,</span>
<span>  host <span class="op">=</span> <span class="fu"><a href="db_host.html">db_host</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  token <span class="op">=</span> <span class="fu"><a href="db_token.html">db_token</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  perform_request <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>statement</dt>
<dd><p>String, the SQL statement to execute. The statement can
optionally be parameterized, see <code>parameters</code>.</p></dd>


<dt>warehouse_id</dt>
<dd><p>String, ID of warehouse upon which to execute a statement.</p></dd>


<dt>catalog</dt>
<dd><p>String, sets default catalog for statement execution, similar
to <code>USE CATALOG</code> in SQL.</p></dd>


<dt>schema</dt>
<dd><p>String, sets default schema for statement execution, similar
to <code>USE SCHEMA</code> in SQL.</p></dd>


<dt>parameters</dt>
<dd><p>List of Named Lists, parameters to pass into a SQL
statement containing parameter markers.</p>
<p>A parameter consists of a name, a value, and <em>optionally</em> a type.
To represent a <code>NULL</code> value, the value field may be omitted or set to <code>NULL</code>
explicitly.</p>
<p>See <a href="https://docs.databricks.com/api/workspace/statementexecution/executestatement" class="external-link">docs</a>
for more details.</p></dd>


<dt>row_limit</dt>
<dd><p>Integer, applies the given row limit to the statement's
result set, but unlike the <code>LIMIT</code> clause in SQL, it also sets the
<code>truncated</code> field in the response to indicate whether the result was trimmed
due to the limit or not.</p></dd>


<dt>byte_limit</dt>
<dd><p>Integer, applies the given byte limit to the statement's
result size. Byte counts are based on internal data representations and
might not match the final size in the requested format. If the result was
truncated due to the byte limit, then <code>truncated</code> in the response is set to
true. When using <code>EXTERNAL_LINKS</code> disposition, a default byte_limit of
100 GiB is applied if <code>byte_limit</code> is not explicitly set.</p></dd>


<dt>disposition</dt>
<dd><p>One of <code>"INLINE"</code> (default) or <code>"EXTERNAL_LINKS"</code>. See
<a href="https://docs.databricks.com/api/workspace/statementexecution/executestatement" class="external-link">docs</a>
for details.</p></dd>


<dt>format</dt>
<dd><p>One of <code>"JSON_ARRAY"</code> (default), <code>"ARROW_STREAM"</code>, or <code>"CSV"</code>.
See <a href="https://docs.databricks.com/api/workspace/statementexecution/executestatement" class="external-link">docs</a>
for details.</p></dd>


<dt>wait_timeout</dt>
<dd><p>String, default is <code>"10s"</code>. The time in seconds the call
will wait for the statement's result set as <code>Ns</code>, where <code>N</code> can be set to
<code>0</code> or to a value between <code>5</code> and <code>50</code>.
When set to <code>0s</code>, the statement will execute in asynchronous mode and the
call will not wait for the execution to finish. In this case, the call
returns directly with <code>PENDING</code> state and a statement ID which can be used
for polling with <code><a href="db_sql_exec_status.html">db_sql_exec_status()</a></code>.</p>
<p>When set between <code>5</code> and <code>50</code> seconds, the call will behave synchronously up
to this timeout and wait for the statement execution to finish. If the
execution finishes within this time, the call returns immediately with a
manifest and result data (or a <code>FAILED</code> state in case of an execution error).</p>
<p>If the statement takes longer to execute, <code>on_wait_timeout</code> determines what
should happen after the timeout is reached.</p></dd>


<dt>on_wait_timeout</dt>
<dd><p>One of <code>"CONTINUE"</code> (default) or <code>"CANCEL"</code>.
When <code>wait_timeout</code> &gt; <code>0s</code>, the call will block up to the specified time.
If the statement execution doesn't finish within this time,
<code>on_wait_timeout</code> determines whether the execution should continue or be
canceled.</p>
<p>When set to <code>CONTINUE</code>, the statement execution continues asynchronously and
the call returns a statement ID which can be used for polling with
<code><a href="db_sql_exec_status.html">db_sql_exec_status()</a></code>.</p>
<p>When set to <code>CANCEL</code>, the statement execution is canceled and the call
returns with a <code>CANCELED</code> state.</p></dd>


<dt>host</dt>
<dd><p>Databricks workspace URL, defaults to calling <code><a href="db_host.html">db_host()</a></code>.</p></dd>


<dt>token</dt>
<dd><p>Databricks workspace token, defaults to calling <code><a href="db_token.html">db_token()</a></code>.</p></dd>


<dt>perform_request</dt>
<dd><p>If <code>TRUE</code> (default) the request is performed, if
<code>FALSE</code> the httr2 request is returned <em>without</em> being performed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Refer to the
<a href="https://docs.databricks.com/api/workspace/statementexecution/executestatement" class="external-link">web documentation</a>
for detailed material on interaction of the various parameters and general recommendations</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other SQL Execution APIs: 
<code><a href="db_sql_exec_cancel.html">db_sql_exec_cancel</a>()</code>,
<code><a href="db_sql_exec_result.html">db_sql_exec_result</a>()</code>,
<code><a href="db_sql_exec_status.html">db_sql_exec_status</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/zacdav-db" class="external-link">Zac Davies</a>, <a href="https://www.linkedin.com/in/raphaelkurlansik/" class="external-link">Rafi Kurlansik</a>, <a href="https://www.databricks.com" class="external-link"><img src="https://databricks.com/wp-content/uploads/2019/12/cropped-databricks-icon-192x192.png" width="25" alt="Databricks"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

