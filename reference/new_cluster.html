<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>New Cluster — new_cluster • brickster</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="New Cluster — new_cluster"><meta name="description" content="New Cluster"><meta property="og:description" content="New Cluster"><meta property="og:image" content="https://zacdav-db.github.io/brickster/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">brickster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cluster-management.html">Cluster Management</a></li>
    <li><a class="dropdown-item" href="../articles/managing-jobs.html">Job Management</a></li>
    <li><a class="dropdown-item" href="../articles/remote-repl.html">Databricks REPL</a></li>
    <li><a class="dropdown-item" href="../articles/setup-auth.html">Connect to a Databricks Workspace</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/databrickslabs/brickster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>New Cluster</h1>
      <small class="dont-index">Source: <a href="https://github.com/databrickslabs/brickster/blob/main/R/data-structures.R" class="external-link"><code>R/data-structures.R</code></a></small>
      <div class="d-none name"><code>new_cluster.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>New Cluster</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">new_cluster</span><span class="op">(</span></span>
<span>  <span class="va">num_workers</span>,</span>
<span>  <span class="va">spark_version</span>,</span>
<span>  <span class="va">node_type_id</span>,</span>
<span>  driver_node_type_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  autoscale <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cloud_attrs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spark_conf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spark_env_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  custom_tags <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ssh_public_keys <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  log_conf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  init_scripts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  enable_elastic_disk <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  driver_instance_pool_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  instance_pool_id <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-num-workers">num_workers<a class="anchor" aria-label="anchor" href="#arg-num-workers"></a></dt>
<dd><p>Number of worker nodes that this cluster should have. A
cluster has one Spark driver and <code>num_workers</code> executors for a total of
<code>num_workers</code> + 1 Spark nodes.</p></dd>


<dt id="arg-spark-version">spark_version<a class="anchor" aria-label="anchor" href="#arg-spark-version"></a></dt>
<dd><p>The runtime version of the cluster. You can retrieve a
list of available runtime versions by using <code><a href="db_cluster_runtime_versions.html">db_cluster_runtime_versions()</a></code>.</p></dd>


<dt id="arg-node-type-id">node_type_id<a class="anchor" aria-label="anchor" href="#arg-node-type-id"></a></dt>
<dd><p>The node type for the worker nodes.
<code><a href="db_cluster_list_node_types.html">db_cluster_list_node_types()</a></code> can be used to see available node types.</p></dd>


<dt id="arg-driver-node-type-id">driver_node_type_id<a class="anchor" aria-label="anchor" href="#arg-driver-node-type-id"></a></dt>
<dd><p>The node type of the Spark driver. This field is
optional; if unset, the driver node type will be set as the same value as
<code>node_type_id</code> defined above. <code><a href="db_cluster_list_node_types.html">db_cluster_list_node_types()</a></code> can be used to
see available node types.</p></dd>


<dt id="arg-autoscale">autoscale<a class="anchor" aria-label="anchor" href="#arg-autoscale"></a></dt>
<dd><p>Instance of <code><a href="cluster_autoscale.html">cluster_autoscale()</a></code>.</p></dd>


<dt id="arg-cloud-attrs">cloud_attrs<a class="anchor" aria-label="anchor" href="#arg-cloud-attrs"></a></dt>
<dd><p>Attributes related to clusters running on specific cloud
provider. Defaults to <code><a href="aws_attributes.html">aws_attributes()</a></code>. Must be one of <code><a href="aws_attributes.html">aws_attributes()</a></code>,
<code><a href="azure_attributes.html">azure_attributes()</a></code>, <code><a href="gcp_attributes.html">gcp_attributes()</a></code>.</p></dd>


<dt id="arg-spark-conf">spark_conf<a class="anchor" aria-label="anchor" href="#arg-spark-conf"></a></dt>
<dd><p>Named list. An object containing a set of optional,
user-specified Spark configuration key-value pairs. You can also pass in a
string of extra JVM options to the driver and the executors via
<code>spark.driver.extraJavaOptions</code> and <code>spark.executor.extraJavaOptions</code>
respectively. E.g. <code>list("spark.speculation" = true, "spark.streaming.ui.retainedBatches" = 5)</code>.</p></dd>


<dt id="arg-spark-env-vars">spark_env_vars<a class="anchor" aria-label="anchor" href="#arg-spark-env-vars"></a></dt>
<dd><p>Named list. User-specified environment variable
key-value pairs. In order to specify an additional set of
<code>SPARK_DAEMON_JAVA_OPTS</code>, we recommend appending them to
<code>$SPARK_DAEMON_JAVA_OPTS</code> as shown in the following example. This ensures
that all default Databricks managed environmental variables are included as
well. E.g. <code>{"SPARK_DAEMON_JAVA_OPTS": "$SPARK_DAEMON_JAVA_OPTS -Dspark.shuffle.service.enabled=true"}</code></p></dd>


<dt id="arg-custom-tags">custom_tags<a class="anchor" aria-label="anchor" href="#arg-custom-tags"></a></dt>
<dd><p>Named list. An object containing a set of tags for cluster
resources. Databricks tags all cluster resources with these tags in addition
to <code>default_tags</code>. Databricks allows at most 45 custom tags.</p></dd>


<dt id="arg-ssh-public-keys">ssh_public_keys<a class="anchor" aria-label="anchor" href="#arg-ssh-public-keys"></a></dt>
<dd><p>List. SSH public key contents that will be added to each
Spark node in this cluster. The corresponding private keys can be used to
login with the user name ubuntu on port 2200. Up to 10 keys can be specified.</p></dd>


<dt id="arg-log-conf">log_conf<a class="anchor" aria-label="anchor" href="#arg-log-conf"></a></dt>
<dd><p>Instance of <code><a href="cluster_log_conf.html">cluster_log_conf()</a></code>.</p></dd>


<dt id="arg-init-scripts">init_scripts<a class="anchor" aria-label="anchor" href="#arg-init-scripts"></a></dt>
<dd><p>Instance of <code><a href="init_script_info.html">init_script_info()</a></code>.</p></dd>


<dt id="arg-enable-elastic-disk">enable_elastic_disk<a class="anchor" aria-label="anchor" href="#arg-enable-elastic-disk"></a></dt>
<dd><p>When enabled, this cluster will dynamically
acquire additional disk space when its Spark workers are running low on
disk space.</p></dd>


<dt id="arg-driver-instance-pool-id">driver_instance_pool_id<a class="anchor" aria-label="anchor" href="#arg-driver-instance-pool-id"></a></dt>
<dd><p>ID of the instance pool to use for the
driver node. You must also specify <code>instance_pool_id</code>. Optional.</p></dd>


<dt id="arg-instance-pool-id">instance_pool_id<a class="anchor" aria-label="anchor" href="#arg-instance-pool-id"></a></dt>
<dd><p>ID of the instance pool to use for cluster nodes. If
<code>driver_instance_pool_id</code> is present, <code>instance_pool_id</code> is used for worker
nodes only. Otherwise, it is used for both the driver and worker nodes.
Optional.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="job_task.html">job_task()</a></code></p>
<p>Other Task Objects:
<code><a href="email_notifications.html">email_notifications</a>()</code>,
<code><a href="libraries.html">libraries</a>()</code>,
<code><a href="notebook_task.html">notebook_task</a>()</code>,
<code><a href="pipeline_task.html">pipeline_task</a>()</code>,
<code><a href="python_wheel_task.html">python_wheel_task</a>()</code>,
<code><a href="spark_jar_task.html">spark_jar_task</a>()</code>,
<code><a href="spark_python_task.html">spark_python_task</a>()</code>,
<code><a href="spark_submit_task.html">spark_submit_task</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/zacdav-db" class="external-link">Zac Davies</a>, <a href="https://www.linkedin.com/in/raphaelkurlansik/" class="external-link">Rafi Kurlansik</a>, <a href="https://www.databricks.com" class="external-link"><img src="https://databricks.com/wp-content/uploads/2019/12/cropped-databricks-icon-192x192.png" width="25" alt="Databricks"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

