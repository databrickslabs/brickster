<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>AWS Attributes — aws_attributes • brickster</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="AWS Attributes — aws_attributes"><meta name="description" content="AWS Attributes"><meta property="og:description" content="AWS Attributes"><meta property="og:image" content="https://databrickslabs.github.io/brickster/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">brickster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cluster-management.html">Cluster Management</a></li>
    <li><a class="dropdown-item" href="../articles/managing-jobs.html">Job Management</a></li>
    <li><a class="dropdown-item" href="../articles/remote-repl.html">Databricks REPL</a></li>
    <li><a class="dropdown-item" href="../articles/setup-auth.html">Connect to a Databricks Workspace</a></li>
    <li><a class="dropdown-item" href="../articles/sql-backend.html">`{DBI}`/`{dbplyr}` backend</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/databrickslabs/brickster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>AWS Attributes</h1>
      <small class="dont-index">Source: <a href="https://github.com/databrickslabs/brickster/blob/main/R/data-structures.R" class="external-link"><code>R/data-structures.R</code></a></small>
      <div class="d-none name"><code>aws_attributes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>AWS Attributes</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">aws_attributes</span><span class="op">(</span></span>
<span>  first_on_demand <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  availability <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SPOT_WITH_FALLBACK"</span>, <span class="st">"SPOT"</span>, <span class="st">"ON_DEMAND"</span><span class="op">)</span>,</span>
<span>  zone_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  instance_profile_arn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spot_bid_price_percent <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  ebs_volume_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"GENERAL_PURPOSE_SSD"</span>, <span class="st">"THROUGHPUT_OPTIMIZED_HDD"</span><span class="op">)</span>,</span>
<span>  ebs_volume_count <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  ebs_volume_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ebs_volume_iops <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ebs_volume_throughput <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-first-on-demand">first_on_demand<a class="anchor" aria-label="anchor" href="#arg-first-on-demand"></a></dt>
<dd><p>Number of nodes of the cluster that will be placed on
on-demand instances. If this value is greater than 0, the cluster driver node
will be placed on an on-demand instance. If this value is greater than or
equal to the current cluster size, all nodes will be placed on on-demand
instances. If this value is less than the current cluster size,
<code>first_on_demand</code> nodes will be placed on on-demand instances and the
remainder will be placed on availability instances. This value does not
affect cluster size and cannot be mutated over the lifetime of a cluster.</p></dd>


<dt id="arg-availability">availability<a class="anchor" aria-label="anchor" href="#arg-availability"></a></dt>
<dd><p>One of <code>SPOT_WITH_FALLBACK</code>, <code>SPOT</code>, <code>ON_DEMAND.</code> Type
used for all subsequent nodes past the <code>first_on_demand</code> ones. If
<code>first_on_demand</code> is zero, this availability type will be used for the entire
cluster.</p></dd>


<dt id="arg-zone-id">zone_id<a class="anchor" aria-label="anchor" href="#arg-zone-id"></a></dt>
<dd><p>Identifier for the availability zone/datacenter in which the
cluster resides. You have three options: availability zone in same region as
the Databricks deployment, <code>auto</code> which selects based on available IPs,
<code>NULL</code> which will use the default availability zone.</p></dd>


<dt id="arg-instance-profile-arn">instance_profile_arn<a class="anchor" aria-label="anchor" href="#arg-instance-profile-arn"></a></dt>
<dd><p>Nodes for this cluster will only be placed on AWS
instances with this instance profile. If omitted, nodes will be placed on
instances without an instance profile. The instance profile must have
previously been added to the Databricks environment by an account
administrator. This feature may only be available to certain customer plans.</p></dd>


<dt id="arg-spot-bid-price-percent">spot_bid_price_percent<a class="anchor" aria-label="anchor" href="#arg-spot-bid-price-percent"></a></dt>
<dd><p>The max price for AWS spot instances, as a
percentage of the corresponding instance type’s on-demand price. For example,
if this field is set to 50, and the cluster needs a new i3.xlarge spot
instance, then the max price is half of the price of on-demand i3.xlarge
instances. Similarly, if this field is set to 200, the max price is twice the
price of on-demand i3.xlarge instances. If not specified, the default value
is 100. When spot instances are requested for this cluster, only spot
instances whose max price percentage matches this field will be considered.
For safety, we enforce this field to be no more than 10000.</p></dd>


<dt id="arg-ebs-volume-type">ebs_volume_type<a class="anchor" aria-label="anchor" href="#arg-ebs-volume-type"></a></dt>
<dd><p>Either <code>GENERAL_PURPOSE_SSD</code> or
<code>THROUGHPUT_OPTIMIZED_HDD</code></p></dd>


<dt id="arg-ebs-volume-count">ebs_volume_count<a class="anchor" aria-label="anchor" href="#arg-ebs-volume-count"></a></dt>
<dd><p>The number of volumes launched for each instance. You
can choose up to 10 volumes. This feature is only enabled for supported node
types. Legacy node types cannot specify custom EBS volumes. For node types
with no instance store, at least one EBS volume needs to be specified;
otherwise, cluster creation will fail. These EBS volumes will be mounted at
<code>/ebs0</code>, <code>/ebs1</code>, and etc. Instance store volumes will be mounted at
<code>/local_disk0</code>, <code>/local_disk1</code>, and etc.</p>
<p>If EBS volumes are attached, Databricks will configure Spark to use only the
EBS volumes for scratch storage because heterogeneously sized scratch devices
can lead to inefficient disk utilization. If no EBS volumes are attached,
Databricks will configure Spark to use instance store volumes.</p>
<p>If EBS volumes are specified, then the Spark configuration <code>spark.local.dir</code>
will be overridden.</p></dd>


<dt id="arg-ebs-volume-size">ebs_volume_size<a class="anchor" aria-label="anchor" href="#arg-ebs-volume-size"></a></dt>
<dd><p>The size of each EBS volume (in <code>GiB</code>) launched for
each instance. For general purpose SSD, this value must be within the
range <code>100 - 4096</code>. For throughput optimized HDD, this value must be
within the range <code>500 - 4096</code>.</p>
<p>Custom EBS volumes cannot be specified for the legacy node types
(memory-optimized and compute-optimized).</p></dd>


<dt id="arg-ebs-volume-iops">ebs_volume_iops<a class="anchor" aria-label="anchor" href="#arg-ebs-volume-iops"></a></dt>
<dd><p>The number of IOPS per EBS gp3 volume. This value must
be between 3000 and 16000. The value of IOPS and throughput is calculated
based on AWS documentation to match the maximum performance of a gp2 volume
with the same volume size.</p></dd>


<dt id="arg-ebs-volume-throughput">ebs_volume_throughput<a class="anchor" aria-label="anchor" href="#arg-ebs-volume-throughput"></a></dt>
<dd><p>The throughput per EBS gp3 volume, in <code>MiB</code> per
second. This value must be between 125 and 1000.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>ebs_volume_iops</code>, <code>ebs_volume_throughput</code>, or both are not specified, the
values will be inferred from the throughput and IOPS of a gp2 volume with the
same disk size, by using the following calculation:</p><table class="table table"><tr><td><strong>Disk size</strong></td><td><strong>IOPS</strong></td><td><strong>Throughput</strong></td></tr><tr><td>Greater than 1000</td><td>3 times the disk size up to 16000</td><td>250</td></tr><tr><td>Between 170 and 1000</td><td>3000</td><td>250</td></tr><tr><td>Below 170</td><td>3000</td><td>128</td></tr></table></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="db_cluster_create.html">db_cluster_create()</a></code>, <code><a href="db_cluster_edit.html">db_cluster_edit()</a></code></p>
<p>Other Cloud Attributes:
<code><a href="azure_attributes.html">azure_attributes</a>()</code>,
<code><a href="gcp_attributes.html">gcp_attributes</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/zacdav-db" class="external-link">Zac Davies</a>, <a href="https://www.linkedin.com/in/raphaelkurlansik/" class="external-link">Rafi Kurlansik</a>, <a href="https://www.databricks.com" class="external-link"><img src="https://databricks.com/wp-content/uploads/2019/12/cropped-databricks-icon-192x192.png" width="25" alt="Databricks"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

