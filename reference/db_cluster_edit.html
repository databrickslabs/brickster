<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Edit the configuration of a cluster to match the provided attributes and
size."><title>Edit a Cluster — db_cluster_edit • brickster</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Edit a Cluster — db_cluster_edit"><meta property="og:description" content="Edit the configuration of a cluster to match the provided attributes and
size."><meta property="og:image" content="https://zacdav-db.github.io/brickster/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">brickster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/cluster-management.html">Cluster Management</a>
    <a class="dropdown-item" href="../articles/managing-jobs.html">Job Management</a>
    <a class="dropdown-item" href="../articles/rmarkdown-databricks-notebook.html">Using RMarkdown as a Databricks Notebook</a>
    <a class="dropdown-item" href="../articles/setup-auth.html">Connect to a Databricks Workspace</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/zacdav-db/brickster/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Edit a Cluster</h1>
      <small class="dont-index">Source: <a href="https://github.com/zacdav-db/brickster/blob/HEAD/R/clusters.R" class="external-link"><code>R/clusters.R</code></a></small>
      <div class="d-none name"><code>db_cluster_edit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Edit the configuration of a cluster to match the provided attributes and
size.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">db_cluster_edit</span><span class="op">(</span></span>
<span>  <span class="va">cluster_id</span>,</span>
<span>  <span class="va">spark_version</span>,</span>
<span>  <span class="va">node_type_id</span>,</span>
<span>  num_workers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  autoscale <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spark_conf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cloud_attrs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  driver_node_type_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  custom_tags <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  init_scripts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spark_env_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  autotermination_minutes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  log_conf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ssh_public_keys <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  driver_instance_pool_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  instance_pool_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  idempotency_token <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  enable_elastic_disk <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  apply_policy_default_values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  enable_local_disk_encryption <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  docker_image <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  policy_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  host <span class="op">=</span> <span class="fu"><a href="db_host.html">db_host</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  token <span class="op">=</span> <span class="fu"><a href="db_token.html">db_token</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  perform_request <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>cluster_id</dt>
<dd><p>Canonical identifier for the cluster.</p></dd>


<dt>spark_version</dt>
<dd><p>The runtime version of the cluster. You can retrieve a
list of available runtime versions by using <code><a href="db_cluster_runtime_versions.html">db_cluster_runtime_versions()</a></code>.</p></dd>


<dt>node_type_id</dt>
<dd><p>The node type for the worker nodes.
<code><a href="db_cluster_list_node_types.html">db_cluster_list_node_types()</a></code> can be used to see available node types.</p></dd>


<dt>num_workers</dt>
<dd><p>Number of worker nodes that this cluster should have. A
cluster has one Spark driver and <code>num_workers</code> executors for a total of
<code>num_workers</code> + 1 Spark nodes.</p></dd>


<dt>autoscale</dt>
<dd><p>Instance of <code><a href="cluster_autoscale.html">cluster_autoscale()</a></code>.</p></dd>


<dt>name</dt>
<dd><p>Cluster name requested by the user. This doesn’t have to be
unique. If not specified at creation, the cluster name will be an empty
string.</p></dd>


<dt>spark_conf</dt>
<dd><p>Named list. An object containing a set of optional,
user-specified Spark configuration key-value pairs. You can also pass in a
string of extra JVM options to the driver and the executors via
<code>spark.driver.extraJavaOptions</code> and <code>spark.executor.extraJavaOptions</code>
respectively. E.g. <code>list("spark.speculation" = true, "spark.streaming.ui.retainedBatches" = 5)</code>.</p></dd>


<dt>cloud_attrs</dt>
<dd><p>Attributes related to clusters running on specific cloud
provider. Defaults to <code><a href="aws_attributes.html">aws_attributes()</a></code>. Must be one of <code><a href="aws_attributes.html">aws_attributes()</a></code>,
<code><a href="azure_attributes.html">azure_attributes()</a></code>, <code><a href="gcp_attributes.html">gcp_attributes()</a></code>.</p></dd>


<dt>driver_node_type_id</dt>
<dd><p>The node type of the Spark driver. This field is
optional; if unset, the driver node type will be set as the same value as
<code>node_type_id</code> defined above. <code><a href="db_cluster_list_node_types.html">db_cluster_list_node_types()</a></code> can be used to
see available node types.</p></dd>


<dt>custom_tags</dt>
<dd><p>Named list. An object containing a set of tags for cluster
resources. Databricks tags all cluster resources with these tags in addition
to <code>default_tags</code>. Databricks allows at most 45 custom tags.</p></dd>


<dt>init_scripts</dt>
<dd><p>Instance of <code><a href="init_script_info.html">init_script_info()</a></code>.</p></dd>


<dt>spark_env_vars</dt>
<dd><p>Named list. User-specified environment variable
key-value pairs. In order to specify an additional set of
<code>SPARK_DAEMON_JAVA_OPTS</code>, we recommend appending them to
<code>$SPARK_DAEMON_JAVA_OPTS</code> as shown in the following example. This ensures
that all default Databricks managed environmental variables are included as
well. E.g. <code>{"SPARK_DAEMON_JAVA_OPTS": "$SPARK_DAEMON_JAVA_OPTS -Dspark.shuffle.service.enabled=true"}</code></p></dd>


<dt>autotermination_minutes</dt>
<dd><p>Automatically terminates the cluster after it
is inactive for this time in minutes. If not set, this cluster will not be
automatically terminated. If specified, the threshold must be between 10 and
10000 minutes. You can also set this value to 0 to explicitly disable
automatic termination. Defaults to 120.</p></dd>


<dt>log_conf</dt>
<dd><p>Instance of <code><a href="cluster_log_conf.html">cluster_log_conf()</a></code>.</p></dd>


<dt>ssh_public_keys</dt>
<dd><p>List. SSH public key contents that will be added to each
Spark node in this cluster. The corresponding private keys can be used to
login with the user name ubuntu on port 2200. Up to 10 keys can be specified.</p></dd>


<dt>driver_instance_pool_id</dt>
<dd><p>ID of the instance pool to use for the
driver node. You must also specify <code>instance_pool_id</code>. Optional.</p></dd>


<dt>instance_pool_id</dt>
<dd><p>ID of the instance pool to use for cluster nodes. If
<code>driver_instance_pool_id</code> is present, <code>instance_pool_id</code> is used for worker
nodes only. Otherwise, it is used for both the driver and worker nodes.
Optional.</p></dd>


<dt>idempotency_token</dt>
<dd><p>An optional token that can be used to guarantee the
idempotency of cluster creation requests. If an active cluster with the
provided token already exists, the request will not create a new cluster,
but it will return the ID of the existing cluster instead. The existence of a
cluster with the same token is not checked against terminated clusters. If
you specify the idempotency token, upon failure you can retry until the
request succeeds. Databricks guarantees that exactly one cluster will be
launched with that idempotency token. This token should have at most 64
characters.</p></dd>


<dt>enable_elastic_disk</dt>
<dd><p>When enabled, this cluster will dynamically
acquire additional disk space when its Spark workers are running low on
disk space.</p></dd>


<dt>apply_policy_default_values</dt>
<dd><p>Boolean (Default: <code>TRUE</code>), whether to use
policy default values for missing cluster attributes.</p></dd>


<dt>enable_local_disk_encryption</dt>
<dd><p>Boolean (Default: <code>TRUE</code>), whether
encryption of disks locally attached to the cluster is enabled.</p></dd>


<dt>docker_image</dt>
<dd><p>Instance of <code><a href="docker_image.html">docker_image()</a></code>.</p></dd>


<dt>policy_id</dt>
<dd><p>String, ID of a cluster policy.</p></dd>


<dt>host</dt>
<dd><p>Databricks workspace URL, defaults to calling <code><a href="db_host.html">db_host()</a></code>.</p></dd>


<dt>token</dt>
<dd><p>Databricks workspace token, defaults to calling <code><a href="db_token.html">db_token()</a></code>.</p></dd>


<dt>perform_request</dt>
<dd><p>If <code>TRUE</code> (default) the request is performed, if
<code>FALSE</code> the httr2 request is returned <em>without</em> being performed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>You can edit a cluster if it is in a <code>RUNNING</code> or <code>TERMINATED</code> state. If you
edit a cluster while it is in a <code>RUNNING</code> state, it will be restarted so that
the new attributes can take effect. If you edit a cluster while it is in a
<code>TERMINATED</code> state, it will remain <code>TERMINATED.</code> The next time it is started
using the clusters/start API, the new attributes will take effect. An attempt
to edit a cluster in any other state will be rejected with an <code>INVALID_STATE</code>
error code.</p>
<p>Clusters created by the Databricks Jobs service cannot be edited.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Clusters API: 
<code><a href="db_cluster_create.html">db_cluster_create</a>()</code>,
<code><a href="db_cluster_events.html">db_cluster_events</a>()</code>,
<code><a href="db_cluster_get.html">db_cluster_get</a>()</code>,
<code><a href="db_cluster_list.html">db_cluster_list</a>()</code>,
<code><a href="db_cluster_list_node_types.html">db_cluster_list_node_types</a>()</code>,
<code><a href="db_cluster_list_zones.html">db_cluster_list_zones</a>()</code>,
<code><a href="db_cluster_perm_delete.html">db_cluster_perm_delete</a>()</code>,
<code><a href="db_cluster_pin.html">db_cluster_pin</a>()</code>,
<code><a href="db_cluster_resize.html">db_cluster_resize</a>()</code>,
<code><a href="db_cluster_restart.html">db_cluster_restart</a>()</code>,
<code><a href="db_cluster_runtime_versions.html">db_cluster_runtime_versions</a>()</code>,
<code><a href="db_cluster_start.html">db_cluster_start</a>()</code>,
<code><a href="db_cluster_terminate.html">db_cluster_terminate</a>()</code>,
<code><a href="db_cluster_unpin.html">db_cluster_unpin</a>()</code>,
<code><a href="get_and_start_cluster.html">get_and_start_cluster</a>()</code>,
<code><a href="get_latest_dbr.html">get_latest_dbr</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/zacdav-db" class="external-link">Zac Davies</a>, <a href="https://www.linkedin.com/in/raphaelkurlansik/" class="external-link">Rafi Kurlansik</a>, <a href="https://www.databricks.com" class="external-link"><img src="https://databricks.com/wp-content/uploads/2019/12/cropped-databricks-icon-192x192.png" width="25" alt="Databricks"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

